<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>D-Day ë° ì‹œê³„</title>
    <style>
        /*
         * ìƒ‰ìƒ íŒ”ë ˆíŠ¸:
         * #F0F5EF - ë°ì€ ë°°ê²½ ë˜ëŠ” ìš”ì†Œ
         * #A1BA9A - ì£¼ìš” ìš”ì†Œ ë˜ëŠ” ê°•ì¡° ìƒ‰ìƒ
         */

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            background-color: #F0F5EF; /* ë°ì€ ë°°ê²½ */
            min-height: 100vh;
            color: #333;
        }

        /* 1. ë°°ê²½ ì´ë¯¸ì§€: -5.jpg */
        header {
            width: 100%;
            height: 300px;
            background-image: url('-5.jpg'); /* ì‚¬ìš©ìê°€ ì œê³µí•œ íŒŒì¼ ì´ë¦„ */
            background-size: cover;
            background-position: center;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 40px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .container {
            display: flex;
            gap: 40px;
            padding: 20px;
            max-width: 1200px;
            width: 90%;
            margin-top: -150px; /* í—¤ë” ìœ„ë¡œ ìš”ì†Œ ì˜¬ë¦¬ê¸° */
        }

        /* ê³µí†µ ì¹´ë“œ ìŠ¤íƒ€ì¼ */
        .card {
            flex: 1;
            padding: 30px;
            background-color: #F0F5EF; /* ë°ì€ ì¹´ë“œ ë°°ê²½ */
            border-radius: 15px;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.15);
            min-width: 300px;
            text-align: center;
        }
        
        /* 2. ì‹œê³„ ë””ìì¸ (IMG_3101.PNG ëŠë‚Œ) */
        #clock-card {
            border: 2px solid #A1BA9A; /* ê°•ì¡° ìƒ‰ìƒ í…Œë‘ë¦¬ */
            padding: 40px 30px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            background: linear-gradient(145deg, #f8fcfb, #e0e6e0); /* ì€ì€í•œ ê·¸ë¼ë°ì´ì…˜ */
        }
        
        #current-time {
            font-size: 5rem;
            font-weight: 700;
            color: #A1BA9A; /* ê°•ì¡° ìƒ‰ìƒìœ¼ë¡œ ì‹œê°„ í‘œì‹œ */
            letter-spacing: 3px;
            margin-bottom: 5px;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.05);
        }
        
        #current-date {
            font-size: 1.2rem;
            color: #777;
            font-weight: 500;
        }

        /* 3. D-Day ë””ìì¸ (ì¸í„°ë„· íŒì—…ì°½ ë””ìì¸ - IMG_3102.JPG ëŠë‚Œ) */
        #dday-card {
            padding: 0; /* íŒì—…ì°½ ë””ìì¸ì„ ìœ„í•´ ë‚´ë¶€ íŒ¨ë”© ì œê±° */
            background-color: #F0F5EF;
            border: 1px solid #A1BA9A; /* íŒì—…ì°½ í…Œë‘ë¦¬ */
            box-shadow: 5px 5px 15px rgba(0, 0, 0, 0.2); /* ì…ì²´ê° ìˆëŠ” ê·¸ë¦¼ì */
            overflow: hidden;
        }
        
        /* íŒì—…ì°½ ì œëª© í‘œì‹œì¤„ */
        .popup-header {
            background-color: #A1BA9A; /* ê°•ì¡° ìƒ‰ìƒ */
            color: #F0F5EF; /* ë°ì€ ê¸€ì”¨ */
            padding: 8px 15px;
            text-align: left;
            font-weight: bold;
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: move; /* ë“œë˜ê·¸ ê°€ëŠ¥í•œ ëŠë‚Œ */
        }
        
        .popup-controls span {
            margin-left: 8px;
            font-size: 0.9rem;
            cursor: pointer;
            opacity: 0.8;
        }

        .dday-content {
            padding: 30px;
            text-align: center;
        }

        #dday-output {
            font-size: 4rem;
            font-weight: 800;
            color: #A1BA9A;
            margin: 10px 0 20px 0;
        }

        #dday-label {
            font-size: 1.5rem;
            color: #555;
            margin-bottom: 20px;
        }

        /* ë‚ ì§œ ì…ë ¥ ë° ë²„íŠ¼ */
        input[type="date"] {
            padding: 10px;
            border: 1px solid #A1BA9A;
            border-radius: 5px;
            margin-right: 10px;
            font-size: 1rem;
            color: #333;
        }
        
        button {
            padding: 10px 20px;
            background-color: #A1BA9A;
            color: #F0F5EF;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            transition: background-color 0.3s;
        }

        button:hover {
            background-color: #8c9f8a;
        }

        /* ë¯¸ë””ì–´ ì¿¼ë¦¬: ëª¨ë°”ì¼ ìµœì í™” */
        @media (max-width: 768px) {
            header {
                height: 200px;
            }
            .container {
                flex-direction: column;
                margin-top: -100px;
            }
            #current-time {
                font-size: 3.5rem;
            }
            #dday-output {
                font-size: 3rem;
            }
            .card {
                min-width: unset;
            }
            .dday-content > * {
                margin-bottom: 10px;
            }
            button {
                width: 100%;
                margin-top: 10px;
            }
            input[type="date"] {
                width: calc(100% - 22px);
                margin-bottom: 10px;
            }
        }

    </style>
</head>
<body>

    <header></header>

    <div class="container">
        
        <div id="clock-card" class="card">
            <h2>ğŸ•°ï¸ í˜„ì¬ ì‹œê°</h2>
            <div id="current-time">00:00:00</div>
            <div id="current-date">YYYYë…„ MMì›” DDì¼ (ìš”ì¼)</div>
        </div>

        <div id="dday-card" class="card">
            <div class="popup-header">
                D-Day ê³„ì‚°ê¸° ğŸš€
                <div class="popup-controls">
                    <span>â€”</span>
                    <span>â–¢</span>
                    <span>âœ•</span>
                </div>
            </div>
            
            <div class="dday-content">
                <div id="dday-label">ëª©í‘œë¥¼ ì„¤ì •í•´ì£¼ì„¸ìš”.</div>
                <div id="dday-output">D-?</div>
                
                <input type="date" id="target-date-input">
                <button onclick="calculateDDay()">D-Day ì„¤ì •</button>
            </div>
        </div>

    </div>

    <script>
        // 1. ì‹œê³„ ê¸°ëŠ¥ êµ¬í˜„ (ì‹¤ì‹œê°„ ìƒí˜¸ ì‘ìš©)
        function updateClock() {
            const now = new Date();
            
            // ì‹œê°„ í‘œì‹œ
            const timeOptions = { hour: '2-digit', minute: '2-digit', second: '2-digit', hour12: false };
            const timeString = now.toLocaleTimeString('ko-KR', timeOptions);
            document.getElementById('current-time').textContent = timeString;
            
            // ë‚ ì§œ í‘œì‹œ
            const dateOptions = { year: 'numeric', month: 'long', day: 'numeric', weekday: 'long' };
            const dateString = now.toLocaleDateString('ko-KR', dateOptions);
            document.getElementById('current-date').textContent = dateString;
        }

        // 1ì´ˆë§ˆë‹¤ ì‹œê³„ ì—…ë°ì´íŠ¸
        setInterval(updateClock, 1000);
        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì¦‰ì‹œ ì‹œê³„ í‘œì‹œ
        updateClock(); 

        // 2. D-Day ê¸°ëŠ¥ êµ¬í˜„ (ìƒí˜¸ ì‘ìš©)
        function calculateDDay() {
            const inputDate = document.getElementById('target-date-input').value;
            const outputElement = document.getElementById('dday-output');
            const labelElement = document.getElementById('dday-label');
            
            if (!inputDate) {
                alert("ëª©í‘œ ë‚ ì§œë¥¼ ì„ íƒí•´ ì£¼ì„¸ìš”!");
                return;
            }

            const targetDate = new Date(inputDate);
            const today = new Date();
            
            // ì‹œê°„ì„ ë¬´ì‹œí•˜ê³  ë‚ ì§œë§Œ ë¹„êµí•˜ê¸° ìœ„í•´ ìì •ìœ¼ë¡œ ì„¤ì •
            targetDate.setHours(0, 0, 0, 0);
            today.setHours(0, 0, 0, 0);

            // ë‘ ë‚ ì§œ ê°„ì˜ ë°€ë¦¬ì´ˆ ì°¨ì´ ê³„ì‚°
            const timeDiff = targetDate.getTime() - today.getTime();
            
            // ë°€ë¦¬ì´ˆë¥¼ ì¼(day)ë¡œ ë³€í™˜
            const dayDiff = Math.ceil(timeDiff / (1000 * 60 * 60 * 24));

            const targetLabel = targetDate.toLocaleDateString('ko-KR', { year: 'numeric', month: 'long', day: 'numeric' });
            
            if (dayDiff > 0) {
                // ë¯¸ë˜: D-Day
                outputElement.textContent = `D-${dayDiff}`;
                labelElement.textContent = `ëª©í‘œì¼ (${targetLabel})ê¹Œì§€ ë‚¨ì€ ë‚ `;
            } else if (dayDiff < 0) {
                // ê³¼ê±°: D+Day
                outputElement.textContent = `D+${Math.abs(dayDiff)}`;
                labelElement.textContent = `ëª©í‘œì¼ (${targetLabel})ë¡œë¶€í„° ì§€ë‚œ ë‚ `;
            } else {
                // ì˜¤ëŠ˜: D-Day
                outputElement.textContent = `D-DAY`;
                labelElement.textContent = `ì˜¤ëŠ˜ì€ ë°”ë¡œ ê·¸ë‚ ! (${targetLabel})`;
            }

            // ì„¤ì •í•œ ë‚ ì§œë¥¼ localStorageì— ì €ì¥í•˜ì—¬ í˜ì´ì§€ ë¡œë“œ ì‹œ ìœ ì§€ë˜ë„ë¡ í•¨
            localStorage.setItem('ddayTargetDate', inputDate);
        }

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì €ì¥ëœ D-Day ì„¤ì • ë³µì›
        function loadDDay() {
            const savedDate = localStorage.getItem('ddayTargetDate');
            if (savedDate) {
                document.getElementById('target-date-input').value = savedDate;
                calculateDDay(); // ì €ì¥ëœ ë‚ ì§œë¡œ D-Day ë‹¤ì‹œ ê³„ì‚°
            }
        }

        // í˜ì´ì§€ ë¡œë“œ ì™„ë£Œ í›„ ì‹¤í–‰
        window.onload = loadDDay;
    </script>

</body>
</html>
